% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Support_Analysis_SIVScoring.R
\name{make_scale_bar_r}
\alias{make_scale_bar_r}
\title{Create a proportional scale bar for spatial CosMx plots}
\usage{
make_scale_bar_r(x_vals, y_vals, microns_per_pixel = 0.12028)
}
\arguments{
\item{x_vals}{Numeric vector of x coordinates (in pixels).}

\item{y_vals}{Numeric vector of y coordinates (in pixels).}

\item{microns_per_pixel}{Numeric. Conversion factor from pixels to microns.
Default is `0.12028`, corresponding to the commercial CosMx platform.}
}
\value{
A named list with three ggplot annotation layers:
  \itemize{
    \item `bg` — a semi-transparent white rectangle background.
    \item `rect` — a solid black rectangle representing the scale bar.
    \item `label` — a text label indicating the physical length (µm or mm).
  }
}
\description{
Generates a list of `annotation_custom()` layers that can be added to a ggplot
to display a scale bar with appropriate length and units (µm or mm) based on
pixel coordinates. The scale bar automatically adjusts to roughly one-quarter
of the x-axis span.
}
\details{
This helper is designed for consistent inclusion of scale bars across
CosMx spatial plots. It estimates a visually balanced bar length based on
the x-axis range and applies an appropriate unit label automatically.
}
\examples{
scale_bar <- make_scale_bar_r(
  x_vals = cell_meta$CenterX_global_px,
  y_vals = cell_meta$CenterY_global_px
)
ggplot() + scale_bar$bg + scale_bar$rect + scale_bar$label

}
